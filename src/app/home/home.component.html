<div class="card">
  <div class="card-header">
    Stock Details
  </div>

  <div class="card-body">
    <form #compareForm="ngForm" (ngSubmit)="onSubmit(compareForm)">

      <div class="form-group">
        <label for="name">Company Name</label>
        <select
          type="text"
          class="form-control"
          name="code"
          #name="ngModel"
          [ngClass]="{'is-invalid': name.errors && name.touched}"
          [(ngModel)]="comparison.code"
          required>
          <option value="-1" disabled>--Please select network--</option>
            <option *ngFor="let company of companies" [ngValue]="company.code">
              {{ company.name }}
            </option>
        </select>
        <div [hidden]="!name.errors?.required" class="invalid-feedback">
          Company Name required
        </div>
      </div>

      <div class="form-group">
        <label for="fromPeriod">From Period (YYYY-MM-dd)</label>
        <input
          type="text"
          class="form-control"
          name="fromPeriod"
          #fromPeriod="ngModel"
          [ngClass]="{'is-invalid': fromPeriod.errors && fromPeriod.touched}"
          [(ngModel)]="comparison.fromPeriod"
          required>
        <div [hidden]="!fromPeriod.errors?.required" class="invalid-feedback">
          From Period required
        </div>
      </div>

      <div class="form-group">
        <label for="toPeriod">To Period (YYYY-MM-dd)</label>
        <input
          type="text"
          class="form-control"
          name="toPeriod"
          #toPeriod="ngModel"
          [ngClass]="{'is-invalid': toPeriod.errors && toPeriod.touched}"
          [(ngModel)]="comparison.toPeriod"
          required>
        <div [hidden]="!toPeriod.errors?.required" class="invalid-feedback">
          To Period required
        </div>
      </div>

      <input type="submit" value="Generate Details" class="btn btn-primary btn-block">
    </form>
    <hr>
<div *ngIf ="submitted">
  <table>
  <thead>
  <th>Stock Price</th>
  <th>Date</th>
  <th>Time</th>
  </thead>
   <tbody >
      <tr *ngFor="let stockPrice of stockPrices">
        <td align=center>{{ stockPrice.price }}</td>
        <td align=center>{{ stockPrice.addedDate }}</td>
        <td align=center>{{ stockPrice.time }}</td>
      </tr>
   </tbody>
  </table>
  <div>
    <label for="name">Min Stock Price: </label>{{minStockPrice}}<br>
    <label for="name">Avg Stock Price: </label>{{avgStockPrice}}<br>
    <label for="name">Max Stock Price: </label>{{maxStockPrice}}
  </div>
  </div>
  </div>
</div>


